<!DOCTYPE html>

{% extends "eventmaker/base.html" %}
{% load staticfiles %}

{% block head_block %}
	<link href="{% static 'eventmakerapp/profile.css' %}" rel="stylesheet">
{% endblock %}

<!-- Page Content-->
{% block body_block %}
    {% if user %}
        {% if userProfile.picture %}
            {% ifnotequal userProfile.picture.name  "defaultProfilePic.jpg" %}
                <div>
                    <picture>
                        <img src="{{ userProfile.picture.url }}" alt="ProfilePicture">
                    </picture>
                </div>
            {% endifnotequal %}
        {% endif %}

        <h1>{{ user.username }}</h1>
        <hr>
        <div class="Block">
            {% if userProfile.description %}
                <h2>About</h2>
                <div class="Attribute">{{ userProfile.description }}</div>
            {% endif %}
        </div>

        <hr>
        <div class="Block">
            {% if events %}
		<div class="album py-5 bg-light">
			<div class="container">
			  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
			{% for event in events %}
					<div class="col">
					  <div class="card shadow-sm">
						{% if event.picture %}
						<div class="image-container">
						<img src={{ event.picture.url }} alt="Picture of Event"/>
						</div>
						{% else %}
						<div class="image-container">
						<img src={% static 'images/default.png' %} alt="Picture of Event"/>
						</div>
						{% endif %}
						<div class="card-body">
						  <strong><p class="event-title">{{ event.title }}</p></strong>
						  <p class ="event-time"><strong>Date: </strong>{{ event.time }}</p>
						  <div class="d-flex justify-content-between align-items-center">
							<div class="btn-group">
							  <a href="{% url 'eventmakerapp:show_event' event.title %}" class="btn btn-sm btn-outline-secondary">View Event</a>
							</div>
							<small class="text-muted"><strong>Price:</strong> Â£{{ event.price }}</small>
						  </div>
						</div>
					  </div>
					</div>
			{% endfor %}
				</div>
			</div>
		</div>
		{% endif %}
        </div>
    {% else %}
        User does not exist.
    {% endif %}
{% endblock %}